<clr-modal *ngIf="testcase !== undefined" [(clrModalOpen)]="opened">
  <h3 class="modal-title">{{ 'TESTCASECREATEPAGE.EDIT_TESTCASE' | translate }}</h3>
  <div class="modal-body">
    <form (ngSubmit)="setOpened(false); updateTestCase(testcase)" id="editTestCaseForm" #editTestCaseForm="ngForm" (keyup.enter)="editTestCaseForm.form.valid && editTestCaseForm.ngSubmit.emit();">
      <section class="form-block">

        <label>Детали</label>

        <div class="form-group">
          <label class="required" for="title">{{ 'TESTCASECREATEPAGE.TITLE' | translate }}</label>
          <input type="text" id="title" name="title" [(ngModel)]="testcase.title" #title="ngModel" required placeholder="{{ 'TESTCASECREATEPAGE.TITLE_PLACEHOLDER' | translate }}"
            size="35">
        </div>

        <div class="form-group">
          <label for="description">{{ 'TESTCASECREATEPAGE.DESCRIPTION' | translate }}</label>
          <input type="text" id="description" name="description" [(ngModel)]="testcase.description" #description="ngModel" placeholder="{{ 'TESTCASECREATEPAGE.DESCRIPTION_PLACEHOLDER' | translate }}"
            size="35">
        </div>

        <div class="form-group">
          <label for="priority">{{ 'TESTCASECREATEPAGE.PRIORITY' | translate }}</label>
          <div class="select">
            <select id="priority" name="priority" [(ngModel)]="testcase.priority" #priority="ngModel">
              <option *ngFor="let key of keys" [value]="key.value">{{ 'PRIORITIES.' + priorities[key] | translate }}</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label for="preconditions">{{ 'TESTCASECREATEPAGE.PRECONDITIONS' | translate }}</label>
          <input type="text" id="preconditions" name="preconditions" [(ngModel)]="testcase.preConditions" #preconditions="ngModel"
            placeholder="{{ 'TESTCASECREATEPAGE.PRECONDITIONS_PLACEHOLDER' | translate }}" size="35">
        </div>

        <clr-datagrid>
          <clr-dg-column>{{ 'TESTMANAGEMENTPAGE.TITLE' | translate }}</clr-dg-column>
          <clr-dg-row *clrDgItems="let step of testcase.steps" [clrDgItem]="step">
            <clr-dg-cell></clr-dg-cell>
          </clr-dg-row>
        </clr-datagrid>

        <!-- should be removed when drag n drop added -->
        <div class="form-group">
          <label for="order">{{ 'TESTCASECREATEPAGE.ORDER' | translate }}</label>
          <input type="number" id="order" name="order" [(ngModel)]="testcase.order" #order="ngModel" placeholder="{{ 'TESTCASECREATEPAGE.ORDER_PLACEHOLDER' | translate }}"
            size="35">
        </div>

      </section>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline" (click)="setOpened(false)">{{ 'TESTMANAGEMENTPAGE.CANCEL' | translate }}</button>
    <button type="button" class="btn btn-primary" (click)="editTestCaseForm.ngSubmit.emit();" [disabled]="!editTestCaseForm.form.valid">{{ 'TESTCASECREATEPAGE.EDIT_BUTTON' | translate }}</button>
  </div>
</clr-modal>
