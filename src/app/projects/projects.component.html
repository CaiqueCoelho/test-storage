<div *ngIf="projects" class="content-area">

  <app-project-wizard [(opened)]="projectWizardOpened" (projectChange)="createProject($event);"></app-project-wizard>

  <app-system-wizard></app-system-wizard>

  <div *ngIf="projects.length > 0; then existProjects else noExistProjects"></div>
  <ng-template #existProjects>
    <a (click)="create();" class="btn btn-primary">
      <clr-icon shape="plus"></clr-icon>
      {{ 'PROJECTSPAGE.CREATE' | translate }}
    </a>

    <div class="row">

      <div *ngFor="let project of projects" class="col-lg-3 col-md-6 col-sm-6 col-xs-12">

        <a routerLink="./{{project._id}}" class="card clickable">
          <div class="card-img">

            <a (click)="$event.stopPropagation(); false; onEdit(project)">
              <clr-icon class="edit-icon" shape="ellipsis-vertical"></clr-icon>
            </a>
            <!--
            <clr-dropdown class="edit-icon" [clrCloseMenuOnItemClick]="false">
              <a (click)="$event.stopPropagation(); false" clrDropdownTrigger>
                <clr-icon shape="ellipsis-vertical"></clr-icon>
              </a>
              <clr-dropdown-menu class="edit-icon" *clrIfOpen>
                <label class="dropdown-header">Dropdown header</label>
                <button type="button" clrDropdownItem>Action 1</button>
                <button type="button" clrDropdownItem>Action 2</button>
                <div class="dropdown-divider"></div>
                <button type="button" clrDropdownItem>Link 1</button>
                <button type="button" clrDropdownItem>Link 2</button>
              </clr-dropdown-menu>
            </clr-dropdown>
            -->
            <!-- <img src="assets/placeholder_350x150.png" alt="..." /> -->
            <div *ngIf="project.avatarColor" class="avatar" [style.backgroundColor]="getBackgroundColor(project)" [style.color]="getColor(project)">
              <div class="avatar-name">{{ project.name.charAt(0).toUpperCase() }}</div>
            </div>
          </div>
          <div class="card-block">
            <p class="card-title">{{ project.name }}</p>
            <p class="card-text">{{ project.description }}</p>
          </div>
        </a>
      </div>

    </div>

  </ng-template>







  <ng-template #noExistProjects>
    <div class="noexist-wrapper">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

        <div class="no-project">
          <img src="assets/add-project.png">
          <h4>{{ 'PROJECTSPAGE.EMPTYSTATE_NOPROJECTS_TITLE' | translate }}</h4>
          <p class="tips">{{ 'PROJECTSPAGE.EMPTYSTATE_NOPROJECTS_DESCRIPTION' | translate }}</p>
          <a (click)="create();" class="btn btn-primary">{{ 'PROJECTSPAGE.EMPTYSTATE_CREATEPROJECT_BUTTON' | translate }}</a>
        </div>

      </div>
    </div>

  </ng-template>
</div>
